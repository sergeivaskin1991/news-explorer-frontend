!function(t){var e={};function n(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(r,s,function(e){return t[e]}.bind(null,s));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=53)}([function(t,e,n){"use strict";n.d(e,"k",(function(){return r})),n.d(e,"u",(function(){return s})),n.d(e,"v",(function(){return i})),n.d(e,"g",(function(){return o})),n.d(e,"x",(function(){return a})),n.d(e,"B",(function(){return u})),n.d(e,"f",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return h})),n.d(e,"M",(function(){return p})),n.d(e,"O",(function(){return f})),n.d(e,"N",(function(){return _})),n.d(e,"P",(function(){return m})),n.d(e,"w",(function(){return g})),n.d(e,"L",(function(){return b})),n.d(e,"n",(function(){return v})),n.d(e,"m",(function(){return y})),n.d(e,"l",(function(){return S})),n.d(e,"Q",(function(){return L})),n.d(e,"t",(function(){return w})),n.d(e,"j",(function(){return x})),n.d(e,"a",(function(){return A})),n.d(e,"o",(function(){return M})),n.d(e,"s",(function(){return q})),n.d(e,"q",(function(){return E})),n.d(e,"r",(function(){return k})),n.d(e,"p",(function(){return O})),n.d(e,"H",(function(){return j})),n.d(e,"F",(function(){return T})),n.d(e,"G",(function(){return C})),n.d(e,"J",(function(){return P})),n.d(e,"h",(function(){return N})),n.d(e,"z",(function(){return $})),n.d(e,"d",(function(){return z})),n.d(e,"y",(function(){return D})),n.d(e,"K",(function(){return H})),n.d(e,"i",(function(){return F})),n.d(e,"A",(function(){return I})),n.d(e,"e",(function(){return U})),n.d(e,"D",(function(){return B})),n.d(e,"I",(function(){return V})),n.d(e,"E",(function(){return J})),n.d(e,"C",(function(){return R}));const r="https://besporovod.ru/wp-content/uploads/2019/10/pp_image_8701_yo9q0ifw8t404-not-found-2.jpg",s="января,февраля,марта,апреля,мая,июня,июля,августа,сентября,октября,ноября,декабря".split(","),i=864e5,o={valueMissing:"Это обязательное поле",tooShortPass:"Минимум 8 символов",typeMismatch:"Некорректный Email",tooShort:"Должно быть от 2 до 30 символов",vvod:"Текст должен быть от 2-х символов"},a={statusLogin:"Login",statusNoLogin:"NoLogin",statusCardSave:"CardSave"},u=document.querySelector(".page"),c=document.querySelector(".content"),l=3,d=c.querySelector(".cards"),h=[],p=c.querySelector(".search__button"),f=c.querySelector(".search__input"),_=c.querySelector(".search__field"),m=c.querySelector(".news-result__button"),g=c.querySelector(".news-result"),b=c.querySelector(".result-not-found"),v=c.querySelector(".menu__li_saved_message"),y=c.querySelector(".menu__li_nouser"),S=c.querySelector(".menu__li_auth"),L=c.querySelector(".menu__button_auth_user"),w=c.querySelector(".mobile-menu"),x=c.querySelector(".header__nav"),A=c.querySelector(".header__button-popup"),M=c.querySelector(".menu"),q=c.querySelector(".menu__nav"),E=c.querySelectorAll(".menu__li"),k=c.querySelector(".menu__link"),O=c.querySelector(".menu__button"),j=(c.querySelector(".popup"),c.querySelector(".popup__name_type_small")),T=c.querySelector(".popup__error_server_auth"),C=c.querySelector(".popup__error_server_login"),P=c.querySelector(".popup_type_login"),N=c.querySelector("#login"),$=c.querySelector(".menu__button_auth"),z=c.querySelector(".popup__close_login"),D=c.querySelector(".popup__name-link_auth"),H=c.querySelector(".popup_type_auth"),F=c.querySelector("#auth"),I=c.querySelector(".popup__name-link_login"),U=c.querySelector(".popup__close_auth"),B=c.querySelector(".popup__button_auth"),V=c.querySelector(".popup_type_correctly"),J=c.querySelector(".popup__close_correctly"),R=c.querySelector(".popup__button_login");c.querySelector(".search__input")},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n(29))},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(5);t.exports=!r((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(3),s=n(9),i=n(14);t.exports=r?function(t,e,n){return s.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return i}));var r=n(0);function s(){const t=new Date,e=6*r.v;return{dateFrom:new Date(t.getTime()-e).toISOString().slice(0,10),dateTo:t.toISOString().slice(0,10)}}function i(t){const e=new Date(t),n=r.u[e.getMonth()];return`${e.getDate()} ${n}, ${e.getFullYear()}`}},function(t,e,n){var r=n(31),s=n(33);t.exports=function(t){return r(s(t))}},function(t,e,n){var r=n(3),s=n(16),i=n(17),o=n(15),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(i(t),e=o(e,!0),i(n),s)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(36),s=n(37);(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.4.1",mode:r?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(1),s=n(6);t.exports=function(t,e){try{s(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s}));const r={baseUrl:"http://api.vaskin.students.nomoreparties.co",headers:{"Content-Type":"application/json"}},s={key:"0c5e94cfdc464ce0b1c372175af57536",pageSize:100,language:"ru",sortNews:"publishedAt",apiUrl:"https://nomoreparties.co/news/v2/everything?q="}},function(t,e,n){var r=n(3),s=n(30),i=n(14),o=n(8),a=n(15),u=n(2),c=n(16),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=o(t),e=a(e,!0),c)try{return l(t,e)}catch(t){}if(u(t,e))return i(!s.f.call(t,e),t[e])}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(4);t.exports=function(t,e){if(!r(t))return t;var n,s;if(e&&"function"==typeof(n=t.toString)&&!r(s=n.call(t)))return s;if("function"==typeof(n=t.valueOf)&&!r(s=n.call(t)))return s;if(!e&&"function"==typeof(n=t.toString)&&!r(s=n.call(t)))return s;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(3),s=n(5),i=n(34);t.exports=!r&&!s((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(4);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var r=n(10);t.exports=r("native-function-to-string",Function.toString)},function(t,e){t.exports={}},function(t,e,n){var r=n(2),s=n(42),i=n(13),o=n(9);t.exports=function(t,e){for(var n=s(e),a=o.f,u=i.f,c=0;c<n.length;c++){var l=n[c];r(t,l)||a(t,l,u(e,l))}}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{constructor(t,e,n,r,s,i,o,a,u){this.addListenersMenu=()=>{this.buttonClose.addEventListener("click",this._open)},this._open=t=>{t.preventDefault(),this._transform()},this._arrayLi=()=>{this.menuLiMobile.forEach(t=>{t.classList.toggle("menu__li_mobile")})},this._transform=()=>{this.buttonClose.classList.toggle("header__button-popup_close"),this.menuNavMobile.classList.toggle("menu__nav_mobile"),this.navMobile.classList.toggle("header__nav_mobile"),this.mobileMenu.classList.toggle("mobile-menu_active"),this.menuMobile.classList.toggle("menu_mobile"),this.menuLinkMobile.classList.toggle("menu__link_mobile"),this.menuButtonMobile.classList.toggle("menu__button_mobile"),this.pageFixed.classList.toggle("page_fixed_mobile"),this._arrayLi()},this.pageFixed=t,this.mobileMenu=e,this.navMobile=n,this.buttonClose=r,this.menuMobile=s,this.menuNavMobile=i,this.menuLiMobile=o,this.menuLinkMobile=a,this.menuButtonMobile=u}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{constructor(t,e,n,r,s){this.renderIn=()=>{this.mainApi.getUserData().then(t=>{this.userName.textContent=t.name,this.liSavedMessage.classList.add("menu__li_login"),this.liNoUser.classList.add("menu__li_login"),this.liAuthButton.classList.add("menu__li_nouser")}).catch(t=>{console.log(t)})},this.renderOut=()=>{this.mainApi.logout().then(()=>{this.userName.textContent="",this.liSavedMessage.classList.remove("menu__li_login"),this.liNoUser.classList.remove("menu__li_login"),this.liAuthButton.classList.remove("menu__li_nouser")}).catch(t=>{console.log(t)})},this.liSavedMessage=t,this.liNoUser=e,this.liAuthButton=n,this.mainApi=r,this.userName=s}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n(27);var r=n(7),s=n(0);class i{constructor(t,e){this.templateCreate=(t,e)=>e===s.x.statusNoLogin?`\n        <div class="card">\n          <div class="card__image" style="background-image: url(${this._sanitizeHTML(this._imgIsNull(t))})">\n            <div class="card__buttons">\n            <span class="card__text-login card__buttons_is-opened">Войдите, чтобы сохранять статьи</span>\n              <button class="button card__button" disabled></button>\n            </div>\n          </div>\n            <a href="${this._sanitizeHTML(t.url)}" class="card__content" target="_blank">\n              <p class="card__date-text">${this._sanitizeHTML(Object(r.b)(t.publishedAt))}</p>\n              <h2 class="card__title">${this._sanitizeHTML(t.title)}</h2>\n              <p class="card__subtitle">${this._sanitizeHTML(t.description)}</p>\n              <p class="card__source">${this._sanitizeHTML(t.source.name)}</p>\n            </a>\n        </div>\n      `:e===s.x.statusLogin?`\n        <div class="card">\n          <div class="card__image" style="background-image: url(${this._sanitizeHTML(this._imgIsNull(t))})">\n            <div class="card__buttons">\n              <button class="button card__button"></button>\n            </div>\n          </div>\n            <a href="${this._sanitizeHTML(t.url)}" class="card__content" target="_blank">\n              <p class="card__date-text">${this._sanitizeHTML(Object(r.b)(t.publishedAt))}</p>\n              <h2 class="card__title">${this._sanitizeHTML(t.title)}</h2>\n              <p class="card__subtitle">${this._sanitizeHTML(t.description)}</p>\n              <p class="card__source">${this._sanitizeHTML(t.source.name)}</p>\n            </a>\n        </div>\n      `:e===s.x.statusCardSave?`\n        <div class="card" id="${t._id}">\n          <div class="card__image" style="background-image: url(${this._sanitizeHTML(t.image)})">\n            <div class="card__buttons">\n              <span class="card__text-login card__buttons_is-opened">Убрать из сохранённых</span>\n              <button class="button card__button-delete"></button>\n            </div>\n            <div class="card__tag-box">\n              <span class="card__tag">${this._sanitizeHTML(t.keyword)}</span>\n            </div>\n          </div>\n            <a href="${this._sanitizeHTML(t.link)}" class="card__content" target="_blank">\n              <p class="card__date-text">${this._sanitizeHTML(t.date)}</p>\n              <h2 class="card__title">${this._sanitizeHTML(t.title)}</h2>\n              <p class="card__subtitle">${this._sanitizeHTML(t.text)}</p>\n              <p class="card__source">${this._sanitizeHTML(t.source)}</p>\n            </a>\n        </div>\n      `:void 0,this._sanitizeHTML=t=>{const e=document.createElement("div");return e.textContent=t,e.firstChild.nodeValue},this._imgIsNull=t=>null===t.urlToImage?s.k:t.urlToImage,this._getContentArticle=t=>{const e=t.target.closest(".card");return{keyword:this.cardsArray.keyword,image:e.querySelector(".card__image").style.backgroundImage.slice(5,-2),date:e.querySelector(".card__date-text").textContent,title:e.querySelector(".card__title").textContent,text:e.querySelector(".card__subtitle").textContent,source:e.querySelector(".card__source").textContent,link:e.querySelector(".card__content").href}},this.articleHandler=t=>{const e=t.target.closest(".card__button"),n=t.target.closest(".card");if(t.target.classList.contains("card__button")&&!t.target.classList.contains("card__button_save")){const r=this._getContentArticle(t);this.mainApi.createArticle(r).then(t=>{n.setAttribute("id",t.data._id),e.classList.add("card__button_save")}).catch(t=>{console.log(t)})}else t.target.classList.contains("card__button_save")&&this.mainApi.removeArticle(n.id).then(()=>{e.classList.remove("card__button_save")}).catch(t=>{console.log(t)})},this.deleteArticle=t=>{const e=t.target.closest(".card");t.target.classList.contains("card__button-delete")&&confirm("Уверены, что хотите удалить статью?")&&this.mainApi.removeArticle(e.id).then(()=>{e.remove()}).catch(t=>{console.log(t)})},this.mainApi=t,this.cardsArray=e}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(0);class s{constructor(t,e,n,s,i,o){this._addCard=t=>this.cards.insertAdjacentHTML("beforeend",this.article.templateCreate(t,this.status)),this.render=t=>{t.forEach(t=>{this._addCard(t)})},this.renderStatus=t=>{""===this.userName.textContent?(this.status=r.x.statusNoLogin,this.render(t)):(this.status=r.x.statusLogin,this.render(t))},this.showButton=t=>{const e=this.cardsArray.slice(this.count,this.count+=3);e.length<3?(this.renderStatus(e),t.classList.add("news-result__button_is-opened")):this.renderStatus(e)},this.clear=()=>{if(0!==this.cardsArray.length)for(this.cardsArray.length=0;this.cards.firstChild;)this.cards.removeChild(this.cards.firstChild)},this.articleFavorites=()=>{this.mainApi.getArticles().then(t=>{this.status=r.x.statusCardSave,t.data.forEach(t=>{this.cardsArray.push(t)}),this.render(this.cardsArray)}).catch(t=>console.log(t))},this.cards=t,this.cardsArray=e,this.count=n,this.article=s,this.mainApi=i,this.userName=o,this.status=r.x.statusNoLogin}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{constructor(t){this.signup=(t,e,n)=>fetch(this.baseUrl+"/signup",{method:"POST",credentials:"include",headers:this.headers,body:JSON.stringify({email:t,password:e,name:n})}).then(t=>{if(t.ok)return t.json();return t.json().then(Promise.reject.bind(Promise))}).catch(t=>{throw t}),this.signin=(t,e)=>fetch(this.baseUrl+"/signin",{method:"POST",credentials:"include",headers:this.headers,body:JSON.stringify({email:t,password:e})}).then(t=>{if(t.ok)return t.json();return t.json().then(Promise.reject.bind(Promise))}).catch(t=>{throw t}),this.getUserData=()=>fetch(this.baseUrl+"/users/me",{method:"GET",credentials:"include",headers:this.headers}).then(t=>this._getResponseData(t)).catch(t=>{throw t}),this.logout=()=>fetch(this.baseUrl+"/logout",{method:"POST",credentials:"include",headers:this.headers}).then(t=>this._getResponseData(t)).catch(t=>{console.log(t)}),this.getArticles=()=>fetch(this.baseUrl+"/articles",{method:"GET",credentials:"include",headers:this.headers}).then(t=>this._getResponseData(t)).catch(t=>{console.log(t)}),this.createArticle=t=>fetch(this.baseUrl+"/articles",{method:"POST",credentials:"include",headers:this.headers,body:JSON.stringify({keyword:t.keyword,title:t.title,text:t.text,date:t.date,source:t.source,link:t.link,image:t.image})}).then(t=>this._getResponseData(t)).catch(t=>{console.log(t)}),this.removeArticle=t=>fetch(`${this.baseUrl}/articles/${t}`,{method:"DELETE",credentials:"include",headers:this.headers}).then(t=>this._getResponseData(t)).catch(t=>{console.log(t)}),this._getResponseData=t=>t.ok?t.json():Promise.reject("Ошибка: "+t.status),this.baseUrl=t.baseUrl,this.headers=t.headers}}},function(t,e,n){"use strict";var r=n(28),s=n(3),i=n(1),o=n(2),a=n(4),u=n(9).f,c=n(20),l=i.Symbol;if(s&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var d={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new l(t):void 0===t?l():l(t);return""===t&&(d[e]=!0),e};c(h,l);var p=h.prototype=l.prototype;p.constructor=h;var f=p.toString,_="Symbol(test)"==String(l("test")),m=/^Symbol\((.*)\)[^)]+$/;u(p,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=f.call(t);if(o(d,t))return"";var n=_?e.slice(7,-1):e.replace(m,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:h})}},function(t,e,n){var r=n(1),s=n(13).f,i=n(6),o=n(35),a=n(11),u=n(20),c=n(52);t.exports=function(t,e){var n,l,d,h,p,f=t.target,_=t.global,m=t.stat;if(n=_?r:m?r[f]||a(f,{}):(r[f]||{}).prototype)for(l in e){if(h=e[l],d=t.noTargetGet?(p=s(n,l))&&p.value:n[l],!c(_?l:f+(m?".":"#")+l,t.forced)&&void 0!==d){if(typeof h==typeof d)continue;u(h,d)}(t.sham||d&&d.sham)&&i(h,"sham",!0),o(n,l,h,t)}}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,i=s&&!r.call({1:2},1);e.f=i?function(t){var e=s(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(5),s=n(32),i="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==s(t)?i.call(t,""):Object(t)}:Object},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(1),s=n(4),i=r.document,o=s(i)&&s(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(1),s=n(10),i=n(6),o=n(2),a=n(11),u=n(18),c=n(38),l=c.get,d=c.enforce,h=String(u).split("toString");s("inspectSource",(function(t){return u.call(t)})),(t.exports=function(t,e,n,s){var u=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,l=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),d(n).source=h.join("string"==typeof e?e:"")),t!==r?(u?!l&&t[e]&&(c=!0):delete t[e],c?t[e]=n:i(t,e,n)):c?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||u.call(this)}))},function(t,e){t.exports=!1},function(t,e,n){var r=n(1),s=n(11),i=r["__core-js_shared__"]||s("__core-js_shared__",{});t.exports=i},function(t,e,n){var r,s,i,o=n(39),a=n(1),u=n(4),c=n(6),l=n(2),d=n(40),h=n(19),p=a.WeakMap;if(o){var f=new p,_=f.get,m=f.has,g=f.set;r=function(t,e){return g.call(f,t,e),e},s=function(t){return _.call(f,t)||{}},i=function(t){return m.call(f,t)}}else{var b=d("state");h[b]=!0,r=function(t,e){return c(t,b,e),e},s=function(t){return l(t,b)?t[b]:{}},i=function(t){return l(t,b)}}t.exports={set:r,get:s,has:i,enforce:function(t){return i(t)?s(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=s(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var r=n(1),s=n(18),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(s.call(i))},function(t,e,n){var r=n(10),s=n(41),i=r("keys");t.exports=function(t){return i[t]||(i[t]=s(t))}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){var r=n(43),s=n(45),i=n(51),o=n(17);t.exports=r("Reflect","ownKeys")||function(t){var e=s.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(44),s=n(1),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(s[t]):r[t]&&r[t][e]||s[t]&&s[t][e]}},function(t,e,n){t.exports=n(1)},function(t,e,n){var r=n(46),s=n(50).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,s)}},function(t,e,n){var r=n(2),s=n(8),i=n(47).indexOf,o=n(19);t.exports=function(t,e){var n,a=s(t),u=0,c=[];for(n in a)!r(o,n)&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~i(c,n)||c.push(n));return c}},function(t,e,n){var r=n(8),s=n(48),i=n(49),o=function(t){return function(e,n,o){var a,u=r(e),c=s(u.length),l=i(o,c);if(t&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},function(t,e,n){var r=n(21),s=Math.min;t.exports=function(t){return t>0?s(r(t),9007199254740991):0}},function(t,e,n){var r=n(21),s=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?s(n+e,0):i(n,e)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(5),s=/#|\.prototype\./,i=function(t,e){var n=a[o(t)];return n==c||n!=u&&("function"==typeof e?r(e):!!e)},o=i.normalize=function(t){return String(t).replace(s,".").toLowerCase()},a=i.data={},u=i.NATIVE="N",c=i.POLYFILL="P";t.exports=i},function(t,e,n){"use strict";n.r(e);class r{constructor(t,e){this.popupElement=t,this.closeButton=e,this.close=this.close.bind(this),this.setListeners()}open(){this.popupElement.classList.add("popup_is-opened")}close(){this.popupElement.classList.remove("popup_is-opened")}setListeners(){this.closeButton.addEventListener("click",this.close)}}class s extends r{constructor(t,e,n,r){super(t,n),this.open=t=>{t.preventDefault(),this.clearPopup(),this.popupElement.previousElementSibling.classList.remove("popup_is-opened"),this.popupElement.nextElementSibling.classList.remove("popup_is-opened"),super.open()},this.close=()=>{super.close()},this.setListeners=()=>{this.openButton.addEventListener("click",this.open)},this.openButton=e,this.clearPopup=r,this.setListeners()}}var i=n(22);class o{constructor(t,e){this._isValidate=t=>(t.setCustomValidity(""),t.validity.valueMissing?(t.setCustomValidity(this._errorMessages.valueMissing),!1):t.validity.tooShort&&"password"===t.type?(t.setCustomValidity(this._errorMessages.tooShortPass),!1):t.validity.typeMismatch&&"email"===t.type?(t.setCustomValidity(this._errorMessages.typeMismatch),!1):t.validity.tooShort||t.validity.tooLong?(t.setCustomValidity(this._errorMessages.tooShort),!1):t.checkValidity()),this._inputErrorAdd=t=>{this.errorMessage=this._someForm.querySelector(`#${t.id}-error`),this.errorMessage.textContent=t.validationMessage},this._isFieldValid=t=>{const e=this._isValidate(t);return this._inputErrorAdd(t),e},this.setSubmitButtonState=t=>{t?(this.button.removeAttribute("disabled"),this.button.classList.add("popup__button_valid")):(this.button.setAttribute("disabled","true"),this.button.classList.remove("popup__button_valid"))},this.handlerInputForm=t=>{this._isFieldValid(t.target),this._someForm.checkValidity()?this.setSubmitButtonState(!0):this.setSubmitButtonState(!1)},this.resetErrorsPopup=()=>{this.errors.forEach(t=>t.textContent="")},this._setListeners=()=>{this.errors=this._someForm.querySelectorAll(".error"),this.button=this._someForm.querySelector(".button"),this._someForm.addEventListener("input",this.handlerInputForm)},this._someForm=t,this._errorMessages=e,this._setListeners()}}var a=n(23),u=n(24),c=n(25),l=n(26),d=n(7);var h=n(0);var p=n(12);const f=new l.a(p.a),_=new class{constructor(t){this.getNewsApi=t=>{let e=Object(d.a)();return fetch(`${this.apiUrl}${t}&from=${e.dateFrom}&to=${e.dateTo}&language=${this.language}&sortBy=${this.sortNews}&pageSize=${this.pageSize}&apiKey=${this.key}`).then(t=>t.ok?t.json():Promise.reject("Ошибка: "+t.status)).catch(t=>{console.log(t)})},this.apiUrl=t.apiUrl,this.key=t.key,this.pageSize=t.pageSize,this.language=t.language,this.sortNews=t.sortNews}}(p.b),m=new a.a(h.n,h.m,h.l,f,h.Q),g=new o(h.h,h.g),b=new o(h.i,h.g),v=new s(h.J,h.z,h.d,M),y=new s(h.K,h.A,h.e,M),S=new class extends r{constructor(...t){var e;return e=super(...t),this.open=()=>{super.open(),this.popupElement.previousElementSibling.classList.remove("popup_is-opened")},e}}(h.I,h.E),L=(new s(h.J,h.y,h.d,M),new s(h.J,h.H,h.d,M),new u.a(f,h.c)),w=new c.a(h.b,h.c,h.f,L,f,h.Q),x=new class{constructor(t,e){this._removeAttribute=()=>{h.M.removeAttribute("disabled"),h.O.removeAttribute("disabled")},this._setAttribute=()=>{h.M.setAttribute("disabled",!0),h.O.setAttribute("disabled",!0)},this.getNews=t=>{t.preventDefault(),h.w.classList.add("news-result_is-opened"),h.L.classList.add("result-not-found_is-opened"),this._setAttribute(),this._loadingSpinner(!0),this.newsApi.getNewsApi(h.O.value).then(t=>{if(this._removeAttribute(),this.cardList.clear(),t.articles.forEach(t=>{h.c.push(t)}),0!==h.c.length){const t=h.c.slice(0,h.f);this.cardList.renderStatus(t),t.length<3?h.P.classList.add("news-result__button_is-opened"):h.P.classList.remove("news-result__button_is-opened"),h.w.classList.remove("news-result_is-opened"),h.c.keyword=h.O.value}else h.L.classList.remove("result-not-found_is-opened")}).catch(t=>{this._removeAttribute(),console.log(t)}).finally(()=>{this._loadingSpinner(!1)})},this._loadingSpinner=t=>{this.spinner=document.querySelector(".result-search"),t?this.spinner.classList.add("result-search_is-opened"):this.spinner.classList.remove("result-search_is-opened")},this.newsApi=t,this.cardList=e}}(_,w),A=new i.a(h.B,h.t,h.j,h.a,h.o,h.s,h.q,h.r,h.p);function M(){g.resetErrorsPopup(),b.resetErrorsPopup()}function q(t){t.reset()}function E(t,e,n,r){t.removeAttribute("disabled"),e.removeAttribute("disabled"),n.removeAttribute("disabled"),r.removeAttribute("disabled")}function k(t,e,n){t.removeAttribute("disabled"),e.removeAttribute("disabled"),n.removeAttribute("disabled")}window.addEventListener("keydown",t=>{"Escape"===t.key&&(v.close(),y.close(),S.close(),q(h.h),q(h.i))}),window.addEventListener("click",t=>{t.target.classList.contains("popup_is-opened")&&(v.close(),y.close(),S.close(),q(h.h),q(h.i))}),h.P.addEventListener("click",()=>{w.showButton(h.P)}),h.p.addEventListener("click",()=>{confirm("Вы точно хотите выйти?")&&(m.renderOut(),location.reload())}),h.d.addEventListener("click",()=>{q(h.h)}),h.e.addEventListener("click",()=>{q(h.i)}),h.b.addEventListener("click",L.articleHandler),h.N.addEventListener("submit",x.getNews),h.i.addEventListener("submit",(function(t){t.preventDefault();const e=h.i.elements.email,n=h.i.elements.password,r=h.i.elements.name;!function(t,e,n,r){t.setAttribute("disabled",!0),e.setAttribute("disabled",!0),n.setAttribute("disabled",!0),r.setAttribute("disabled",!0)}(e,n,r,h.D),f.signup(e.value,n.value,r.value).then(()=>{E(e,n,r,h.D),q(h.i),y.close(),S.open()}).catch(t=>{E(e,n,r,h.D),h.F.textContent=t.message})})),h.h.addEventListener("submit",(function(t){t.preventDefault();const e=h.h.elements.email,n=h.h.elements.password;!function(t,e,n){t.setAttribute("disabled",!0),e.setAttribute("disabled",!0),n.setAttribute("disabled",!0)}(e,n,h.C),f.signin(e.value,n.value).then(()=>{k(e,n,h.C),m.renderIn(),q(h.h),v.close()}).catch(t=>{k(e,n,h.C),h.G.textContent=t.message})})),A.addListenersMenu(),m.renderIn()}]);